From 8da34b08fa475ffa4e10f895ece4e48015604eaa Mon Sep 17 00:00:00 2001
From: Isuru Fernando <isuruf@gmail.com>
Date: Fri, 31 Oct 2025 16:28:46 -0700
Subject: [PATCH 2/3] Make -stdlib=libc++ the default for macos platforms

---
 gcc/c-family/c.opt | 2 +-
 gcc/cp/g++spec.cc  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/gcc/c-family/c.opt b/gcc/c-family/c.opt
index 75b6531860e..fd97be7bdc0 100644
--- a/gcc/c-family/c.opt
+++ b/gcc/c-family/c.opt
@@ -2779,7 +2779,7 @@ C ObjC Alias(std=c23)
 Conform to the ISO 2023 C standard (published in 2024).
 
 stdlib=
-Driver C++ ObjC++ Common Condition(ENABLE_STDLIB_OPTION) Var(flag_stdlib_kind) Joined Enum(stdlib_kind) RejectNegative Init(1)
+Driver C++ ObjC++ Common Condition(ENABLE_STDLIB_OPTION) Var(flag_stdlib_kind) Joined Enum(stdlib_kind) RejectNegative Init(2)
 -stdlib=[libstdc++|libc++]	The standard library to be used for C++ headers
 and runtime.
 
diff --git a/gcc/cp/g++spec.cc b/gcc/cp/g++spec.cc
index 165a91d45cd..26799676329 100644
--- a/gcc/cp/g++spec.cc
+++ b/gcc/cp/g++spec.cc
@@ -97,7 +97,7 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,
   int library = 0;
 
   /* Which c++ runtime library to link.  */
-  stdcxxlib_kind which_library = USE_LIBSTDCXX;
+  stdcxxlib_kind which_library = USE_LIBCXX;
 
   /* The number of arguments being added to what's in argv, other than
      libraries.  We use this to track the number of times we've inserted
-- 
2.45.2

